
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dota 2 Ward Map - Match 8461956309</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #0e1117; color: #fafafa;
            display: flex; flex-direction: column; align-items: center; padding: 2rem;
        }
        h1, h2 { color: #fafafa; text-align: center; }
        h2 { font-size: 1.2rem; font-weight: normal; margin-top: -1rem; margin-bottom: 2rem;}
        #map-container {
            position: relative;
            width: 512px; height: 512px;
            border: 1px solid #444;
        }
        #map-image {
            width: 100%; height: 100%; display: block;
        }
        .ward {
            position: absolute;
            width: 100.0px;
            height: 100.0px;
            background-color: rgba(255, 215, 0, 0.15);
            border: 1px solid #FFD700;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s ease;
            opacity: 0; /* Hidden by default */
            pointer-events: none; /* Not interactive by default */
        }
        .ward::before {
            content: '';
            width: 8px;
            height: 8px;
            background-color: #FFD700;
            border: 1px solid black;
            border-radius: 50%;
            position: absolute;
        }
        .ward .tooltip {
            visibility: hidden;
            min-width: 80px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 8px;
            position: absolute;
            z-index: 1;
            bottom: 110%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            white-space: nowrap;
        }
        .ward:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
        #controls {
            margin: 20px 0;
            padding: 10px 20px;
            background-color: #262730;
            border-radius: 8px;
            width: 512px;
            box-sizing: border-box;
        }
        #time-slider {
            width: 100%;
            cursor: pointer;
        }
        label {
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>Ward Visualization for Match 8461956309</h1>
    <h2>Xtreme Gaming (Radiant Only)</h2>
    <div id="map-container">
        <img id="map-image" src="../dota2_map2" alt="Dota 2 Map">
    </div>
    <div id="controls">
        <label for="time-slider">Show wards up to minute: <span id="slider-value">10</span></label>
        <input type="range" id="time-slider" min="0" max="63" value="10" step="1">
    </div>

    <script>
        const wardData = [{"time_seconds":-29,"expiration_time":331,"x":65.8,"y":73.6,"type":"observer"},{"time_seconds":309,"expiration_time":669,"x":52.9,"y":66.1,"type":"observer"},{"time_seconds":-52,"expiration_time":308,"x":22.2,"y":41.7,"type":"observer"},{"time_seconds":447,"expiration_time":807,"x":30.1,"y":71.7,"type":"observer"},{"time_seconds":1862,"expiration_time":2222,"x":88.2,"y":96.0,"type":"observer"},{"time_seconds":2053,"expiration_time":2413,"x":84.1,"y":75.1,"type":"observer"},{"time_seconds":315,"expiration_time":675,"x":101.8,"y":82.1,"type":"observer"},{"time_seconds":525,"expiration_time":885,"x":74.3,"y":88.9,"type":"observer"},{"time_seconds":700,"expiration_time":1060,"x":41.6,"y":17.5,"type":"observer"},{"time_seconds":867,"expiration_time":1227,"x":107.5,"y":113.7,"type":"observer"},{"time_seconds":967,"expiration_time":1327,"x":84.1,"y":74.0,"type":"observer"},{"time_seconds":1025,"expiration_time":1385,"x":53.4,"y":73.4,"type":"observer"},{"time_seconds":1153,"expiration_time":1513,"x":11.6,"y":1.5,"type":"observer"},{"time_seconds":1346,"expiration_time":1706,"x":54.1,"y":98.1,"type":"observer"},{"time_seconds":1470,"expiration_time":1830,"x":66.2,"y":55.4,"type":"observer"},{"time_seconds":1563,"expiration_time":1923,"x":21.6,"y":75.9,"type":"observer"},{"time_seconds":2131,"expiration_time":2491,"x":29.9,"y":72.0,"type":"observer"},{"time_seconds":2251,"expiration_time":2611,"x":28.7,"y":95.2,"type":"observer"},{"time_seconds":2531,"expiration_time":2891,"x":6.1,"y":75.3,"type":"observer"},{"time_seconds":2570,"expiration_time":2930,"x":13.0,"y":92.2,"type":"observer"},{"time_seconds":2614,"expiration_time":2974,"x":39.6,"y":102.6,"type":"observer"},{"time_seconds":2763,"expiration_time":3123,"x":29.8,"y":72.3,"type":"observer"},{"time_seconds":2816,"expiration_time":3176,"x":42.1,"y":114.9,"type":"observer"},{"time_seconds":2955,"expiration_time":3315,"x":14.9,"y":92.0,"type":"observer"},{"time_seconds":3086,"expiration_time":3446,"x":30.0,"y":72.2,"type":"observer"},{"time_seconds":3406,"expiration_time":3766,"x":30.0,"y":72.2,"type":"observer"}];

        function format_mmss(t_sec) {
            if (t_sec < 0) t_sec = 0;
            const m = Math.floor(t_sec / 60);
            const s = Math.round(t_sec % 60);
            return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function placeWards() {
            const container = document.getElementById('map-container');
            container.querySelectorAll('.ward').forEach(el => el.remove());

            wardData.forEach(ward => {
                const wardDiv = document.createElement('div');
                wardDiv.className = 'ward';
                wardDiv.style.left = (ward.x / 128) * 100 + '%';
                wardDiv.style.top = (ward.y / 128) * 100 + '%';
                wardDiv.dataset.placementTime = ward.time_seconds;
                wardDiv.dataset.expirationTime = ward.expiration_time;

                const tooltip = document.createElement('span');
                tooltip.className = 'tooltip';
                tooltip.textContent = format_mmss(ward.time_seconds);
                wardDiv.appendChild(tooltip);
                
                container.appendChild(wardDiv);
            });
        }

        function updateWardVisibility(minuteLimit) {
            const wards = document.querySelectorAll('.ward');
            const timeLimit = minuteLimit * 60;
            wards.forEach(ward => {
                const placementTime = parseInt(ward.dataset.placementTime, 10);
                const expirationTime = parseInt(ward.dataset.expirationTime, 10);
                
                // Animate ward visibility based on its lifetime
                if (placementTime <= timeLimit && timeLimit < expirationTime) {
                    ward.style.opacity = '1';
                    ward.style.pointerEvents = 'auto';
                } else {
                    ward.style.opacity = '0';
                    ward.style.pointerEvents = 'none';
                }
            });
        }

        window.onload = () => {
            placeWards();
            
            const slider = document.getElementById('time-slider');
            const sliderValueSpan = document.getElementById('slider-value');

            slider.value = Math.min(10, slider.max);
            sliderValueSpan.textContent = slider.value;
            updateWardVisibility(slider.value);

            slider.addEventListener('input', (event) => {
                const minute = event.target.value;
                sliderValueSpan.textContent = minute;
                updateWardVisibility(minute);
            });
        };
    </script>
</body>
</html>
